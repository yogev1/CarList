<div class="container">

  <div class="col-11 text-center">      
    <h1 style="font-size: 300%">Cars Listings</h1>
  </div>  

  <!-- condition on adding cars -->
  
  <div class="row">  
    <% if current_user %>
      <div class="col-md-1">
        <p class="text-center"><a class="btn btn-primary" href="<%= new_car_path %>" role="button">Add New Car</a></p>
      </div>

    <% else %>

      <div class="col-md-6"> 
        <h4 style="color: red">Please sign in before trying to add\edit cars!</h4>
      </div>
    <% end %>  
  </div>

  <!--  generating car grid -->
      
  <div class="row">
    <% @cars.each do |car| %>
        <a class="thumbnail col-md-4" href="<%= car_path(car) %>"><%= image_tag car.main_image.url(:medium), height: "80%", width: "80%", class: "img-responsive" %></a>
    <% end %>
  </div>  

  <!-- create search query -->


    <div align="center">
      <%= form_tag cars_path ,method: 'get' do %>
        <p style="color: black"><%= text_field_tag :search , params[:search], placeholder: "Search Cars"%></p>
        <%= submit_tag "Search Cars", :name => nil%>
      <%end%>
    
      <% if @cars.blank? %>
        <h4>There are no "<%= params[:search] %>" cars to show.</h4>
        <div class="col-md-1">
          <a class="btn btn-info" href="<%= root_path %>" role="button">Back</a>
        </div>
      <% end %>
      
      <div class="col-md-3">
        <h3><%= link_to "Advanced Search", new_search_path, class: "btn btn-info"%></h3>
      </div> 
    </div>
 
</div> 
